<div class="row">
  <div class="col s3">
    <div class="collection indent">
      <div class="collection-item" *ngFor="let reference of references;">
        <div class="substance-col1" (click)="changeState('detail',reference.$key)">{{reference.ReferenceName}}</div>
        <div class="substance-col2"><button (click)="showEdit(reference)" class="button secondary right">Edit</button>
        </div>
      </div>
    </div>
  </div>
  <div class="col s9">
     <div class="row">
       <div class="col s2 offset-s10">
       <button class="btn" (click)="showAdd()">Add Reference</button>
       </div>
     </div>
<!--  DETAIL VIEW  -->
  <div class="row" *ngIf="appState=='detail'">
    <div class="s2 offset-s10 col">
      <button class="btn alert" (click)="changeState('default')">Go Back</button>
    </div>
    <div *ngFor="let reference of references">
      <div *ngIf="reference.$key==activeIndex">
        <div class="col-xs-12">
          <div class="card-panel">
            <div class="card-content">
              <span class="card-title center">{{reference.ReferenceName}}</span>
              <table class="substancetable">
                <tbody>
                  <tr><td>Link</td><td>{{reference.ReferenceURL}}</td></tr>
                  <tr><td>Organization</td><td>{{reference.ReferenceOrganization}}</td></tr>
                  <tr><td>Description</td><td>{{reference.ReferenceDesc}}</td></tr>
                </tbody>
              </table>
            </div>   
          </div>        
        </div>
        <div class="s2 offset-s10 col">
         <button class="btn alert" (click)="deleteReference()">Delete</button>
        </div>
      </div>
    </div>
  </div>
<!--  END DETAIL VIEW  -->
<!--  END EDIT VIEW  -->
<div class="row" *ngIf="appState=='edit'" class="row">
  <div class="col-xs-12">
    <form class="col s12" (ngSubmit)="onSubmit(f.value)" #f="ngForm">
    <div class="card-panel">
      <div class="card-content">
        <span class="card-title center">Edit the Reference</span>      
          <div class="row">
            <div class="input-field col s6">
              <input type="text" 
                placeholder="Reference Name" 
                id="ReferenceName"
                name="ReferenceName"
                [ngModel]="_ReferenceName">
              <label for="ReferenceName">Reference Name</label>
            </div>
            <div class="input-field col s6">
             <!-- Maybe use this for an abbreviation?
             <input type="text"  
                placeholder="CAS Number" 
                id="CAS"
                name="CAS"
                [ngModel]="_CAS">
              <label for="CAS">CAS</label>  -->
            </div>
          </div>
          <div class="row">
            <div class="input-field col s12">
              <input type="text" placeholder="Reference Link" id="ReferenceURL" name="ReferenceURL" [ngModel]="_ReferenceURL">
                <label for="ReferenceURL">Reference Link</label>
            </div>
          </div>               
          <div class="row">
            <div class="input-field col s12">
              <input type="text" placeholder="Reference Organization" id="ReferenceOrganization" name="ReferenceOrganization" [ngModel]="_ReferenceOrganization">
                <label for="ReferenceOrganization">Organization</label>
            </div>
          </div>     
          <div class="row">
            <div class="input-field col s12">
              <textarea placeholder="Description" id="ReferenceDesc" name="ReferenceDesc" [ngModel]="_ReferenceDesc" class="materialize-textarea"></textarea>
              <label for="ReferenceDesc">Description</label>
            </div>
          </div>
          

          <div class="row">
            <div class="input-field col s12">
              <button type="submit" class="btn btn-submit" [disabled]="!f.valid" (onclick)="onSubmit(f.value)">Submit</button>
            </div>
          </div>

          <div class="row hide">
            <div class="col s12">
              <a href="#">This is a link</a>
              <a href="#">This is a link</a>
            </div>
          </div>
     </div>
    </div>
  </form>

  </div>        
</div>


<!--  END EDIT VIEW  -->

  </div>
</div>